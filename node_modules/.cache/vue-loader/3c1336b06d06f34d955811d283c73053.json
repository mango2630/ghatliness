{"remainingRequest":"F:\\Web_design\\item\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\Web_design\\item\\src\\views\\login\\LogIn.vue?vue&type=style&index=0&id=22e278ce&scoped=true&lang=css","dependencies":[{"path":"F:\\Web_design\\item\\src\\views\\login\\LogIn.vue","mtime":1616073237711},{"path":"F:\\Web_design\\item\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Web_design\\item\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\Web_design\\item\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\Web_design\\item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Web_design\\item\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpAaW1wb3J0IHVybCgnLi4vLi4vYXNzZXRzL2xvZ2luL3N0eWxlLmNzcycpOw0K"},{"version":3,"sources":["F:\\Web_design\\item\\src\\views\\login\\LogIn.vue"],"names":[],"mappings":";AA2JA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"F:/Web_design/item/src/views/login/LogIn.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <LogInBg></LogInBg>\r\n    <div :class=\"{content, s__signup}\">\r\n\r\n        <!-- start: login -->\r\n        <div class=\"form sign-in\" ref=\"log\">\r\n            <h2>欢迎回来</h2>\r\n            <label>\r\n                <span>用户名</span>\r\n                <input type=\"text\" ref=\"username\" v-model=\"username\" />\r\n            </label>\r\n            <label>\r\n                <span>密码</span>\r\n                <input type=\"password\" ref=\"password\" v-model=\"password\"/>\r\n            </label>\r\n            <p class=\"forgot-pass\"><a href=\"javascript:\">忘记密码？</a></p>\r\n            <button type=\"button\" class=\"submit\" @click=\"submit\">登 录</button>\r\n        </div>\r\n        <!-- end: login -->\r\n        \r\n        <div class=\"sub-cont\">\r\n\r\n            <!-- start: switch login and register -->\r\n            <div class=\"img\">\r\n                <div class=\"img__text m--up\">\r\n                    <h2>还未注册？</h2>\r\n                    <p>立即注册，发现大量机会！</p>\r\n                </div>\r\n                <div class=\"img__text m--in\">\r\n                    <h2>已有帐号？</h2>\r\n                    <p>有帐号就登录吧，好久不见了！</p>\r\n                </div>\r\n                <div class=\"img__btn\" @click=\"switchState\">\r\n                    <span class=\"m--up\">注 册</span>\r\n                    <span class=\"m--in\">登 录</span>\r\n                </div>\r\n            </div>\r\n            <!-- end: switch login and register -->\r\n\r\n            <!-- start : register -->\r\n            <div class=\"form sign-up\" ref=\"form\">\r\n                <h2>立即注册</h2>\r\n                <label>\r\n                    <span>用户名</span>\r\n                    <input type=\"text\" ref=\"name\" v-model=\"name\"/>\r\n                </label>\r\n                <label>\r\n                    <span>邮箱</span>\r\n                    <input type=\"email\" ref=\"mailbox\" v-model=\"mailbox\"/>\r\n                </label>\r\n                <label>\r\n                    <span>密码</span>\r\n                    <input type=\"password\" ref=\"ps\" v-model=\"ps\" />\r\n                </label>\r\n                <button type=\"button\" class=\"submit\" @click=\"register\">注 册</button>\r\n            </div>\r\n            <!-- end: register -->\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport LogInBg from './LogInBg';\r\n// import {getRegisterData} from 'network/login'\r\nimport axios from 'axios'\r\nimport { onMounted } from 'vue';\r\nexport default {\r\n    name : 'LogIn',\r\n    data(){\r\n        return{\r\n            s__signup : false,\r\n            content : true,\r\n            username:null,\r\n            mailbox: null,\r\n            password: null,\r\n            ps: null,\r\n            stuNumber : null,\r\n            name : null\r\n        }\r\n    },\r\n    components:{\r\n        LogInBg\r\n    },\r\n    computed:{\r\n        form() {\r\n            return {\r\n                stuNumber: this.name,\r\n                mailbox: this.mailbox,\r\n                password: this.ps,\r\n            }\r\n        },\r\n        log(){\r\n            return{\r\n                stuNumber : this.username,\r\n                password:this.password\r\n            }\r\n        }\r\n    },\r\n    setup(){\r\n\r\n        onMounted(()=>{\r\n            \r\n        })\r\n        \r\n    },\r\n    methods:{\r\n        switchState(){\r\n            this.s__signup = !this.s__signup;\r\n        },\r\n        register(){\r\n            console.log(\"register\");\r\n            axios({\r\n                url: \"http://111.229.238.150:8188/register/verifyuser\",\r\n                method: 'post',\r\n                data: this.form       \r\n                \r\n            }).then(res=>{\r\n                // 接收到的数据'\r\n                console.log(res);\r\n                console.log(this.form);\r\n                if(res.data === 'success'){\r\n                    alert(\"注册成功\");\r\n                }\r\n            }).catch(err=>{\r\n                // 错误处理\r\n                console.log(err);\r\n            })\r\n        },\r\n        submit(){\r\n            console.log(\"submit\");\r\n            axios({\r\n                url: \"http://111.229.238.150:8188/login/check\",\r\n                method: 'post',\r\n                data: this.log          \r\n            }).then(res=>{\r\n                console.log(res);\r\n                console.log(res.data.message)\r\n                // this.$router.push(\"/home\");\r\n                if (res.data.message === true) {\r\n                    this.$router.push(\"/home\");\r\n                }else{\r\n                    alert(\"登录失败\");\r\n                }\r\n            }).catch(err=>{\r\n                console.log(err);\r\n                alert(\"登陆失败\")\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import url('../../assets/login/style.css');\r\n</style>\r\n\r\n"]}]}